import{d as L,e as y}from"./chunk-PI4XQ5V5.js";import{a as N}from"./chunk-ZROIJHUT.js";import{a as $,b as f,c as D,d as V,e as F,f as C,g as A,h as G,i as z,k as I}from"./chunk-6SDRBIE7.js";import{Da as g,H as M,Mb as B,Na as S,Pb as T,Ra as h,Xa as l,Z as x,_a as k,cb as e,db as t,ea as O,eb as c,fa as P,fb as w,hb as m,ib as d,k as b,ka as E,rb as o,vb as v,xb as u,yb as p}from"./chunk-EDZJABTV.js";var R=i=>({active:i});function q(i,a){if(i&1){let n=w();e(0,"form",11)(1,"label",12),o(2,"\u041B\u043E\u0433\u0438\u043D"),t(),c(3,"input",13),e(4,"label",14),o(5,"\u041F\u0430\u0440\u043E\u043B\u044C"),t(),c(6,"input",15),e(7,"small-button",16),u(8,"async"),m("click",function(s){O(n);let _=d();return P(_.login(s))}),t(),e(9,"button",17),o(10,"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?"),t()()}if(i&2){let n=d();l("formGroup",n.authForm),g(7),l("buttonTitle","\u0412\u043E\u0439\u0442\u0438")("disabled",n.authForm.invalid)("loading",p(8,4,n.isLoading$)||!1)}}function U(i,a){if(i&1){let n=w();e(0,"form",11)(1,"label",18),o(2,"\u041B\u043E\u0433\u0438\u043D"),t(),c(3,"input",19),e(4,"label",20),o(5,"\u041F\u0430\u0440\u043E\u043B\u044C"),t(),c(6,"input",21),e(7,"label",22),o(8,"\u041F\u0430\u0440\u043E\u043B\u044C"),t(),c(9,"input",23),e(10,"small-button",16),u(11,"async"),m("click",function(s){O(n);let _=d();return P(_.registerNewUser(s))}),t(),e(12,"button",17),o(13,"\u0417\u0430\u0431\u044B\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C?"),t()()}if(i&2){let n=d();l("formGroup",n.registerForm),g(10),l("buttonTitle","\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F")("disabled",n.registerForm.invalid)("loading",p(11,4,n.isLoading$)||!1)}}var j=class i{authService=x(L);destroyRef=x(E);authForm=new F({username:new C("",f.required),password:new C("",f.required)});registerForm=new F({username:new C("",f.required),password:new C("",f.required)});isLoading$=new b(!1);formType$=new b("login");login(a){this.isLoading$.next(!0),a.preventDefault(),this.disableInputs();let{username:n,password:r}=this.authForm.value;this.authService.login(n,r).pipe(M(()=>{this.isLoading$.next(!1),this.enableInputs()}),y(this.destroyRef)).subscribe(s=>{console.log("response => ",s),this.authService.isAuthorized.next(!0)})}disableInputs(){this.authForm.get("password")?.disable(),this.authForm.get("username")?.disable(),this.registerForm.get("password")?.disable(),this.registerForm.get("username")?.disable()}enableInputs(){this.authForm.get("password")?.enable(),this.authForm.get("username")?.enable(),this.registerForm.get("password")?.enable(),this.registerForm.get("username")?.enable()}changeFormType(a){this.formType$.next(a)}registerNewUser(a){this.authService.registerUser(this.registerForm.value.username,this.registerForm.value.password).pipe(M(()=>{this.isLoading$.next(!1),this.enableInputs()}),y(this.destroyRef)).subscribe(n=>{console.log("response => ",n)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=S({type:i,selectors:[["app-login"]],decls:22,vars:15,consts:[[1,"container"],[1,"left-section"],["src","assets/icons/logo.svg","alt","small-logo"],[1,"info"],[1,"title"],[1,"description"],["src","assets/images/big-full-logo.svg","alt","big-full-logo"],[1,"form-section"],[1,"form-container"],[1,"action-buttons"],[3,"click","ngClass"],[3,"formGroup"],["for","login"],["id","login","type","text","formControlName","username"],["for","password"],["id","password","type","password","formControlName","password"],[1,"enter",3,"click","buttonTitle","disabled","loading"],[1,"forgot-password"],["for","login-2"],["id","login-2","type","text","formControlName","username"],["for","password-reaped"],["id","password-reaped","type","password","formControlName","password"],["for","password-reaped-2"],["id","password-reaped-2","type","password","formControlName","password"]],template:function(n,r){n&1&&(e(0,"div",0)(1,"div",1),c(2,"img",2),e(3,"div",3)(4,"span",4),o(5,"STOCK VISOR"),t(),e(6,"span",5),o(7,"\u041A\u0440\u0430\u0442\u043A\u043E\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),t()(),c(8,"img",6),t(),e(9,"div",7)(10,"div",8)(11,"div",9)(12,"button",10),u(13,"async"),m("click",function(){return r.changeFormType("login")}),o(14," \u0412\u043E\u0439\u0442\u0438 "),t(),e(15,"button",10),u(16,"async"),m("click",function(){return r.changeFormType("register")}),o(17," \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F "),t()(),h(18,q,11,6,"form",11),u(19,"async"),u(20,"async"),h(21,U,14,6,"form",11),t()()()),n&2&&(g(12),l("ngClass",v(11,R,p(13,3,r.formType$)==="login")),g(3),l("ngClass",v(13,R,p(16,5,r.formType$)==="register")),g(3),k(p(19,7,r.formType$)==="login"?18:p(20,9,r.formType$)==="register"?21:-1))},dependencies:[N,I,A,$,D,V,G,z,T,B],styles:['.container[_ngcontent-%COMP%]{background:linear-gradient(96.2deg,#0056fe 48.93%,#3479ff47 109.55%);height:100vh;width:100vw;display:flex;min-width:900px}.container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{flex-basis:55%;display:flex;flex-direction:column;min-width:486px}.container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   img[alt=big-full-logo][_ngcontent-%COMP%]{width:100%;margin-top:auto}.container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   img[alt=small-logo][_ngcontent-%COMP%]{height:150px;width:250px}.container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;display:flex;flex-direction:column;margin-top:100px;margin-left:12%}.container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:50px;font-weight:500}.container[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:400;font-size:26px}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{flex-basis:45%;background-color:#eff1f7;border-top-left-radius:100px;display:flex;align-items:center;justify-content:center;min-width:626px;min-height:860px}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fff;height:748px;box-shadow:15px 10px 16px #d2dae3b2,5px 5px 13px #d2dae34d,-5px -5px 10px #fff,-20px -20px 18px #fffc;border-radius:40px}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{height:104px;background-color:#fff;width:100%;border-top-left-radius:40px;border-top-right-radius:40px;padding-left:54px;padding-top:54px;display:flex;gap:40px}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;border-radius:6px;font-size:26px;font-weight:700;color:#a3abc3;padding:18px;display:flex;align-items:center;border-bottom:4px solid transparent;transition:border-bottom-color .3s}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#eff1f78a}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;border-bottom:4px solid #0056FE}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#eff1f7;padding:130px 40px 0;display:flex;flex-direction:column;width:464px;min-width:580px;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:14px;padding-left:10px;color:#a3abc3}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #A3ABC3;height:56px;border-radius:10px;background-color:transparent;font-size:18px;padding-left:10px}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #login[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #login-2[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #password-reaped[_ngcontent-%COMP%]{margin-bottom:30px}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{margin-top:60px;margin-bottom:40px}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#f55;background-color:transparent;cursor:pointer;width:fit-content;margin-left:auto;margin-right:auto;font-size:16px;font-weight:500;position:relative;border-radius:8px;height:30px;border:1px solid transparent}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{border:1px solid rgb(222,226.125,238.5)}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:active{background-color:#e8ebf4}.container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:after{content:"";display:block;width:92%;height:2px;background-color:currentColor;position:absolute;bottom:0;left:6px}']})};export{j as LoginComponent};

import{a as j,b as q,c as z,f as L}from"./chunk-S4UWTGOB.js";import{m as H}from"./chunk-D3RQHBIS.js";import{a as N}from"./chunk-D45RNE2B.js";import{$a as T,Ca as r,Ga as I,Lb as D,Ma as x,Mb as B,Nb as G,Ob as Q,Qa as C,Wa as p,Y as f,Za as v,_a as E,ab as k,bb as c,cb as i,da as g,db as O,ea as u,eb as P,gb as _,hb as s,j as V,la as $,mb as h,nb as y,ob as w,qb as d,rb as M,sb as b,ub as R,wb as A,xb as F}from"./chunk-VFD3XTCI.js";var W=["select"],X=n=>({flip:n});function Y(n,e){if(n&1){let t=P();c(0,"li",8),_("click",function(a){let l=g(t).$implicit,m=s(2);return u(m.selectOption(l,a))}),d(1),i()}if(n&2){let t=e.$implicit;r(),b(" ",t," ")}}function Z(n,e){if(n&1&&(c(0,"ul",6),C(1,Y,2,1,"li",7),i()),n&2){let t=s();r(),p("ngForOf",t.options)}}var S=class n{options=[];eventEmitter=new $;select;selectedOption="";dropdownOpen$=new V(!1);renderer=f(I);ngOnInit(){this.renderer.listen("document","click",e=>{this.select&&!this.select.nativeElement.contains(e.target)&&this.dropdownOpen$.value&&this.dropdownOpen$.next(!1)})}toggleDropdown(){this.dropdownOpen$.next(!this.dropdownOpen$.value)}selectOption(e,t){t.stopPropagation(),this.selectedOption=e,this.dropdownOpen$.next(!1),this.eventEmitter.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["table-select"]],viewQuery:function(t,o){if(t&1&&h(W,5),t&2){let a;y(a=w())&&(o.select=a.first)}},inputs:{options:"options"},outputs:{eventEmitter:"optionSelected"},decls:9,vars:9,consts:[["select",""],[1,"container"],[1,"select",3,"click"],[1,"selected"],["src","assets/icons/arrow.svg","alt","arrow icon",3,"ngClass"],["class","options",4,"ngIf"],[1,"options"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,o){if(t&1){let a=P();c(0,"div",1,0)(2,"div",2),_("click",function(){return g(a),u(o.toggleDropdown())}),c(3,"div",3),d(4),O(5,"img",4),A(6,"async"),i()(),C(7,Z,2,1,"ul",5),A(8,"async"),i()}t&2&&(r(4),b(" ",o.selectedOption||"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u043F\u0446\u0438\u044E"," "),r(),p("ngClass",R(7,X,F(6,3,o.dropdownOpen$))),r(2),p("ngIf",F(8,5,o.dropdownOpen$)))},dependencies:[Q,B,G,D],styles:[".container[_ngcontent-%COMP%]{position:relative}.select[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding-left:10px;height:32px;border-radius:10px;background:#eff1f7;cursor:pointer;-webkit-user-select:none;user-select:none;border:none;box-shadow:3px 3px 8px #d2dae3cc,2px 2px 2px #d2dae3cc,-2px -2px 2px #fff,-5px -5px 8px #fff}.select[_ngcontent-%COMP%]:active{box-shadow:2px 2px 12px #88a5bf99 inset,-2px -3px 6px #fff inset,-3px -4px 6px #fff inset}.select[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{font-size:14px;color:#333;display:flex;align-items:center;justify-content:space-between;gap:12px;width:100%;margin-right:10px}.select[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;transition:all .3s;filter:invert(17%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%)}.select[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   .flip[_ngcontent-%COMP%]{transform:rotate(180deg)}.options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;margin-top:6px;padding:0;list-style:none;border-radius:10px;background:#fff;box-shadow:0 0 8px #d2dae399;overflow:hidden;z-index:1}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 15px;cursor:pointer;transition:background .1s}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#eff1f7}"]})};var tt=["tbody"];function et(n,e){if(n&1&&(c(0,"th"),d(1),i()),n&2){let t=e.$implicit;r(),M(t)}}function nt(n,e){if(n&1&&(c(0,"span"),d(1),i()),n&2){let t=s().$implicit;r(),M(t.selectedProductGroup)}}function ot(n,e){n&1&&(c(0,"span",14),d(1,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043F\u043F\u0443"),i())}function it(n,e){if(n&1&&(c(0,"span"),d(1),i()),n&2){let t=s().$implicit;r(),M(t.cluster)}}function ct(n,e){n&1&&(c(0,"span",14),d(1,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043A\u043B\u0430\u0441\u0442\u0435\u0440"),i())}function rt(n,e){if(n&1&&(c(0,"span"),d(1),i()),n&2){let t=s().$implicit;r(),M(t.strategy)}}function at(n,e){n&1&&(c(0,"span",14),d(1,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044E"),i())}function lt(n,e){if(n&1){let t=P();c(0,"tr")(1,"td")(2,"div",6),d(3),i(),c(4,"div",7)(5,"remove-button",8),_("buttonClick",function(){let a=g(t).$implicit,l=s();return u(l.removeItem(a))}),i()()(),c(6,"td")(7,"toggle",9),_("statusChanged",function(a){let l=g(t).$implicit,m=s();return u(m.onStatusChanged(a,l))}),i()(),c(8,"td"),O(9,"input",10),i(),c(10,"td"),O(11,"input",11),i(),c(12,"td",12)(13,"span",13),C(14,nt,2,1,"span")(15,ot,2,0,"span",14),i(),c(16,"table-select",15),_("optionSelected",function(a){let l=g(t).$implicit,m=s();return u(m.onProductGroupSelected(a,l))}),i()(),c(17,"td",16)(18,"span",17),C(19,it,2,1,"span")(20,ct,2,0,"span",14),i(),c(21,"table-select",15),_("optionSelected",function(a){let l=g(t).$implicit,m=s();return u(m.onClusterSelected(a,l))}),i()(),c(22,"td",18)(23,"span",19),C(24,rt,2,1,"span")(25,at,2,0,"span",14),i(),c(26,"table-select",15),_("optionSelected",function(a){let l=g(t).$implicit,m=s();return u(m.onStrategySelected(a,l))}),i()()()}if(n&2){let t=e.$implicit,o=e.$index;r(3),b(" ",o+1," "),r(4),p("isActive",t.isActive?"active":"inactive"),r(2),p("value",t.name)("placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435"),r(2),p("value",t.coefficient)("placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),r(3),v(t.selectedProductGroup?14:15),r(2),p("options",t.productGroups),r(3),v(t.cluster?19:20),r(2),p("options",t.clusters),r(3),v(t.strategy?24:25),r(2),p("options",t.strategies)}}var J=class n{heads=["","\u0410\u043A\u0442\u0438\u0432\u0435\u043D","\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","\u041A\u043E\u044D\u0444\u0444\u0438\u0446\u0438\u0435\u043D\u0442","\u0422\u043E\u0432\u0430\u0440\u043D\u0430\u044F \u0433\u0440\u0443\u043F\u043F\u0430","\u041A\u043B\u0430\u0441\u0442\u0435\u0440","\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044F"];rows=z;dialog=f(H);tbody;onStatusChanged(e,t){this.rows.map(o=>{o.id===t.id&&(o.isActive=e==="active")})}onProductGroupSelected(e,t){this.rows.map(o=>{o.id===t.id&&(o.selectedProductGroup=e)})}onClusterSelected(e,t){this.rows.map(o=>{o.id===t.id&&(o.cluster=e)})}onStrategySelected(e,t){this.rows.map(o=>{o.id===t.id&&(o.strategy=e)})}addRow(){this.rows.push({id:this.rows.length+1,isActive:!1,name:"",coefficient:null,clusters:[],productGroups:[],strategies:[],selectedProductGroup:"",cluster:"",strategy:""}),setTimeout(()=>{let e=this.tbody.nativeElement.querySelectorAll("tr"),t=e[e.length-1];t.style.transition="background-color 500ms",t.style.backgroundColor="#e5ebff",setTimeout(()=>{t.style.backgroundColor="",setTimeout(()=>{t.style.transition="background-color 0.2s"},500)},500)},10)}removeItem(e){this.dialog.open(L,{data:{row:e},panelClass:"remove-modal",autoFocus:!1})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-admin"]],viewQuery:function(t,o){if(t&1&&h(tt,5),t&2){let a;y(a=w())&&(o.tbody=a.first)}},decls:15,vars:1,consts:[["tbody",""],[1,"container"],[1,"head"],[1,"add-row",3,"click"],[3,"buttonTitle"],[1,"table"],[1,"index"],[1,"remove-button"],[3,"buttonClick"],[3,"statusChanged","isActive"],["autocomplete","off","type","text","name","name","id","name",3,"value","placeholder"],["autocomplete","off","type","text","name","name","id","coefficient",3,"value","placeholder"],[1,"product-group"],[1,"product-group-name"],[1,"placeholder"],[3,"optionSelected","options"],[1,"cluster"],[1,"cluster-name"],[1,"strategy"],[1,"strategy-name"]],template:function(t,o){if(t&1){let a=P();c(0,"div",1)(1,"div",2)(2,"div")(3,"button",3),_("click",function(){return g(a),u(o.addRow())}),d(4,"+ \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u043E\u043A\u0443"),i()(),O(5,"small-button",4),i(),c(6,"div",5)(7,"table")(8,"thead"),T(9,et,2,1,"th",null,E),i(),c(11,"tbody",null,0),T(13,lt,27,12,"tr",null,E),i()()()()}t&2&&(r(5),p("buttonTitle","\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"),r(4),k(o.heads),r(4),k(o.rows))},dependencies:[N,j,q,S],styles:[".container[_ngcontent-%COMP%]{min-height:calc(100vh - 108px)}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:has(.add-row){height:48px;width:100%;display:flex;align-items:center;margin-right:14px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#fff}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:has(.add-row)   .add-row[_ngcontent-%COMP%]{margin-left:10px;background:none;color:#0156ff;border:1px solid white;padding:6px 10px;display:flex;align-items:center;border-radius:6px;min-width:150px}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:has(.add-row)   .add-row[_ngcontent-%COMP%]:hover{cursor:pointer;border:1px solid rgba(1,86,255,.56)}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:has(.add-row)   .add-row[_ngcontent-%COMP%]:active{background-color:#eff1f799}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   small-button[_ngcontent-%COMP%]{width:200px}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{height:calc(100vh - 155px);border-bottom-left-radius:10px;border-bottom-right-radius:10px;background-color:#fff;overflow:auto}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;text-align:left;border-collapse:collapse}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#d9dce5;height:40px}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px;color:#686f83}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:54px;border-bottom:1px solid #E8E8E8;transition:background-color .2s}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .product-group[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .cluster[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .strategy[_ngcontent-%COMP%]{min-width:180px;max-height:54px;padding-left:20px}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .product-group[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .cluster[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .strategy[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#eff1f7;cursor:pointer}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .remove-button[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .index[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .product-group[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .cluster[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .strategy[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .product-group[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .cluster[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .strategy[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .product-group-name[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .cluster-name[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .strategy-name[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:6px 10px;border-radius:6px}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#a3abc3}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#a3abc3}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-right:1px solid #E8E8E8}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:10px;text-align:center;min-width:54px}"]})};export{J as AdminComponent};

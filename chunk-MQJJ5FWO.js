import{a as k,b as A,c as S,f as I}from"./chunk-YDSHB7Z5.js";import{m as T}from"./chunk-CL5OG2YX.js";import{a as E}from"./chunk-ZROIJHUT.js";import{$a as u,Da as r,Na as f,Xa as _,Z as h,ab as m,bb as M,cb as i,db as o,ea as s,eb as P,fa as p,fb as O,hb as C,ib as b,nb as x,ob as v,pb as y,rb as d,sb as l,tb as w}from"./chunk-EDZJABTV.js";var V=["tbody"];function F(c,n){if(c&1&&(i(0,"th"),d(1),o()),c&2){let t=n.$implicit;r(),l(t)}}function G(c,n){if(c&1){let t=O();i(0,"tr")(1,"td")(2,"div",6),d(3),o(),i(4,"div",7)(5,"remove-button",8),C("buttonClick",function(){let a=s(t).$implicit,g=b();return p(g.removeItem(a))}),o()()(),i(6,"td")(7,"toggle",9),C("statusChanged",function(a){let g=s(t).$implicit,D=b();return p(D.onStatusChanged(a,g))}),o()(),i(8,"td"),P(9,"input",10),o(),i(10,"td")(11,"span"),d(12),o()(),i(13,"td",11)(14,"span"),d(15),o()(),i(16,"td",12)(17,"span"),d(18),o()(),i(19,"td",13)(20,"span"),d(21),o()()()}if(c&2){let t=n.$implicit,e=n.$index;r(3),w(" ",e+1," "),r(4),_("isActive",t.isActive?"active":"inactive"),r(2),_("value",t.name)("placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435"),r(3),l(t.coefficient),r(3),l(t.productGroup),r(3),l(t.cluster),r(3),l(t.strategy)}}var R=class c{heads=["","\u0410\u043A\u0442\u0438\u0432\u0435\u043D","\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435","\u041A\u043E\u044D\u0444\u0444\u0438\u0446\u0438\u0435\u043D\u0442","\u0422\u043E\u0432\u0430\u0440\u043D\u0430\u044F \u0433\u0440\u0443\u043F\u043F\u0430","\u041A\u043B\u0430\u0441\u0442\u0435\u0440","\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044F"];rows=S;dialog=h(T);tbody;onStatusChanged(n,t){this.rows.map(e=>{e.id===t.id&&(e.isActive=n==="active")})}onProductGroupSelected(n,t){this.rows.map(e=>{e.id===t.id&&(e.selectedProductGroup=n)})}addRow(){this.rows.push({id:this.rows.length+1,isActive:!1,name:"",coefficient:null,clusters:[],productGroup:"",productGroups:[],strategies:[],selectedProductGroup:"",cluster:"",strategy:""}),setTimeout(()=>{let n=this.tbody.nativeElement.querySelectorAll("tr"),t=n[n.length-1];t.style.transition="background-color 500ms",t.style.backgroundColor="#e5ebff",setTimeout(()=>{t.style.backgroundColor="",setTimeout(()=>{t.style.transition="background-color 0.2s"},500)},500)},10)}removeItem(n){this.dialog.open(I,{data:{row:n},panelClass:"remove-modal",autoFocus:!1})}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=f({type:c,selectors:[["app-admin"]],viewQuery:function(t,e){if(t&1&&x(V,5),t&2){let a;v(a=y())&&(e.tbody=a.first)}},decls:15,vars:1,consts:[["tbody",""],[1,"container"],[1,"head"],[1,"add-row",3,"click"],[3,"buttonTitle"],[1,"table"],[1,"index"],[1,"remove-button"],[3,"buttonClick"],[3,"statusChanged","isActive"],["autocomplete","off","type","text","name","name","id","name",3,"value","placeholder"],[1,"product-group"],[1,"cluster"],[1,"strategy"]],template:function(t,e){if(t&1){let a=O();i(0,"div",1)(1,"div",2)(2,"div")(3,"button",3),C("click",function(){return s(a),p(e.addRow())}),d(4,"+ \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u043E\u043A\u0443"),o()(),P(5,"small-button",4),o(),i(6,"div",5)(7,"table")(8,"thead"),m(9,F,2,1,"th",null,u),o(),i(11,"tbody",null,0),m(13,G,22,8,"tr",null,u),o()()()()}t&2&&(r(5),_("buttonTitle","\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"),r(4),M(e.heads),r(4),M(e.rows))},dependencies:[E,k,A],styles:[".container[_ngcontent-%COMP%]{min-height:calc(100vh - 108px)}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:has(.add-row){height:48px;width:100%;display:flex;align-items:center;margin-right:14px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#fff}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:has(.add-row)   .add-row[_ngcontent-%COMP%]{margin-left:10px;background:none;color:#0156ff;border:1px solid white;padding:6px 10px;display:flex;align-items:center;border-radius:6px;min-width:150px}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:has(.add-row)   .add-row[_ngcontent-%COMP%]:hover{cursor:pointer;border:1px solid rgba(1,86,255,.56)}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:has(.add-row)   .add-row[_ngcontent-%COMP%]:active{background-color:#eff1f799}.container[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   small-button[_ngcontent-%COMP%]{width:200px}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{height:calc(100vh - 155px);border-bottom-left-radius:10px;border-bottom-right-radius:10px;background-color:#fff;overflow:auto}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;text-align:left;border-collapse:collapse}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#d9dce5;height:40px}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px;color:#686f83;text-align:center}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:54px;border-bottom:1px solid #E8E8E8;transition:background-color .2s}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .product-group[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .cluster[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .strategy[_ngcontent-%COMP%]{min-width:180px;max-height:54px;padding-left:20px}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .product-group[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .cluster[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .strategy[_ngcontent-%COMP%]   table-select[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#eff1f7;cursor:pointer}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .remove-button[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .index[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:6px 10px;border-radius:6px;text-align:center}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#a3abc3}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#a3abc3}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-right:1px solid #E8E8E8;text-align:center}.container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:10px;text-align:center;min-width:54px}"]})};export{R as AdminComponent};
